# 变更提案: session_history_title

## 需求背景
当前会话页点击进入聊天后，聊天列表仅展示本次 WS 连接期间收到的事件，无法回放已存在的会话历史，导致“选中会话后看不到内容”的体验问题。同时，会话列表标题当前以 cwd/id 为主，无法快速从列表辨识会话内容。

## 变更内容
1. 会话列表标题优先使用“首条 user 消息”截断显示（约 50 字），便于快速定位会话。
2. Chat 页在已选择会话时，自动加载该会话的历史消息并展示，进入会话即可看到内容。

## 影响范围
- **模块:** Bridge Server、WinUI Client
- **API:** 新增会话历史读取接口；会话列表返回新增 title 字段
- **数据:** 仍复用 `%USERPROFILE%\\.codex\\sessions`（JSONL）

## 核心场景

### 需求: 会话列表可读标题
**模块:** WinUI Client / Bridge Server
会话列表应展示可读标题，默认来自该会话首条 user 消息（截断约 50 字），无消息时回退到 cwd 或 id。

#### 场景: 查看会话列表快速定位
用户打开会话页时能通过标题快速识别会话内容。
- 预期结果：会话列表显示 title，长文本自动截断。

### 需求: 会话历史回放
**模块:** WinUI Client / Bridge Server
用户点击会话进入聊天页后应能看到历史消息，而非空白列表。

#### 场景: 点击会话进入聊天
用户在会话页选择某个 sessionId 并进入 Chat 页。
- 预期结果：Chat 页自动加载并展示该会话的历史消息；仍可继续发送并流式追加新内容。

## 风险评估
- **风险:** 会话文件较大时读取耗时增加
- **缓解:** 列表标题提取仅扫描有限行数并尽快命中首条 user 消息；历史接口支持 limit（返回末尾 N 条）限制返回量

